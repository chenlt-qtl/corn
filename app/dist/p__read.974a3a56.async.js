(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{DvM5:function(e,t,a){e.exports=a.p+"static/xiayibu.1833c47b.svg"},"N/z5":function(e,t,a){e.exports=a.p+"static/pointdown.2fc6b61e.svg"},YKg2:function(e,t,a){e.exports=a.p+"static/fanhui.41e61a14.svg"},c71E:function(e,t,a){"use strict";a.r(t);a("T2oS");var n=a("W9HT"),c=a("k1fw"),r=a("9og8"),i=a("tJVT"),s=a("WmNS"),u=a.n(s),o=a("q1tI"),p=a.n(o),l=a("dJx9"),m=a.n(l),f=a("sy1d");function b(e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])("/api/read/article/"+t));case 1:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var d=a("YKg2"),g=a.n(d),O=a("DvM5"),_=a.n(O),j=a("N/z5"),h=a.n(j),x=a("Qyje"),y=0,E=function(e,t){var a=e.location.query,s=a.ids,l=void 0===s?"":s,f=a.index,v=void 0===f?0:f,d=l.split(","),O=d[v],j=Object(o["useRef"])(),E=Object(o["useRef"])(),w=Object(o["useState"])(),k=Object(i["a"])(w,2),N=k[0],I=k[1],T=Object(o["useState"])(),S=Object(i["a"])(T,2),J=S[0],C=S[1],D=Object(o["useState"])(),q=Object(i["a"])(D,2),R=q[0],Y=q[1],z=Object(o["useState"])(!1),K=Object(i["a"])(z,2),M=K[0],W=K[1],Z=Object(o["useState"])(-1),F=Object(i["a"])(Z,2),H=F[0],L=F[1];Object(o["useEffect"])((function(){Q()}),[O]);var Q=function(){var e=Object(r["a"])(u.a.mark((function e(){var t,a,n,c,r,i,s;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return L(-1),W(!0),e.next=4,b(O);case 4:t=e.sent,a=t.result,n=a.article,c=a.sentences,r=a.read,E.current.src=n.mp3,j.current.load(),I(n.picture),C((r.position||"").split("|")),i=[],s=c.records,s.map((function(e){return i.push(e.mp3Time)})),Y(i),W(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){console.log("timeoutIndex",y),clearTimeout(y),L(e),j.current.pause();var t=R[e].split(","),a=.7;j.current.currentTime=t[0],j.current.play(),j.current.playbackRate=a,y=setTimeout((function(){j.current.pause(),console.log("pause")}),parseInt(t[1])/a*1e3),console.log(111,y)},V=function(){var t=e.location,a=t.pathname,n=t.query;e.history.push(a+"?"+Object(x["stringify"])(Object(c["a"])(Object(c["a"])({},n),{},{index:parseInt(v)+1})))},A=function(){return p.a.createElement("div",{className:m.a.container},p.a.createElement("audio",{ref:j},p.a.createElement("source",{ref:E,type:"audio/mpeg"}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 audio \u5143\u7d20\u3002"),p.a.createElement(n["a"],{spinning:M},p.a.createElement("div",{className:m.a.tip},p.a.createElement("img",{src:h.a}),"\u8bf7\u70b9\u8bfb"),0!=v?p.a.createElement("div",{className:m.a.prev,onClick:function(){return e.history.go(-1)}},p.a.createElement("img",{src:g.a})):"",v<d.length-1?p.a.createElement("div",{className:m.a.next,onClick:V},p.a.createElement("img",{src:_.a})):"",(R||[]).map((function(e,t){var a=J[t].split(",");return p.a.createElement("div",{key:t},p.a.createElement("div",{onClick:function(){return U(t)},className:"".concat(m.a.mask," ").concat(t==H?m.a.active:""),style:{top:a[0],height:a[1]}}))})),p.a.createElement("img",{src:N,className:m.a.bgImg})))};return A()};t["default"]=E},dJx9:function(e,t,a){e.exports={container:"container___NODTb",mask:"mask___nIglY",tip:"tip___1i-o2",next:"next___2ZL_O",prev:"prev___1COcE",bgImg:"bgImg___1DZaj",active:"active___1alFU"}}}]);