(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{DvM5:function(e,t,n){e.exports=n.p+"static/xiayibu.1833c47b.svg"},EAz3:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return o}));var a,r=n("oBTY"),c=/[\n]+/,i=/^\[(\d{2}):(\d{2}\.\d{2})\](\[(\d{2}):(\d{2}\.\d{2})\])?/,s=function(e,t){var n=[],a=/([a-z|'|-]+)/gi;t&&(a=/([\u4e00-\u9fa5])/gi);var r=null;return e.reduce((function(e,t){if(t){var n={allWords:[]},c=0;while(r=a.exec(t)){var i=r[0];r.index>c&&n.allWords.push({text:t.slice(c,r.index).trim(),isWord:!1}),n.allWords.push({text:i,isWord:!0}),c=r.index+i.length}c<t.length&&n.allWords.push({text:t.slice(c).trim(),isWord:!1}),e.push(n)}return e}),n)},u=function(e){var t=e.match(i);if(t){var n,a,c=Object(r["a"])(t),s=(c[0],c[1]),u=c[2],o=(c[3],c[4]),l=c[5];if(s&&(n=60*Number.parseInt(s)+Number.parseFloat(u),o)){var p=60*Number.parseInt(o)+Number.parseFloat(l);a=p-n}return n+","+a}},o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"0",r=arguments.length>3?arguments[3]:void 0;console.log("times",t,n),clearTimeout(a),e.pause();var c=parseInt(t),i=parseFloat(n);if(e.currentTime=c,e.playbackRate=r,e.play(),i){var s=i/r;console.log("duration",s),a=setTimeout((function(){e.pause()}),1e3*s)}}},"N/z5":function(e,t,n){e.exports=n.p+"static/pointdown.2fc6b61e.svg"},YKg2:function(e,t,n){e.exports=n.p+"static/fanhui.41e61a14.svg"},c71E:function(e,t,n){"use strict";n.r(t);n("T2oS");var a=n("W9HT"),r=n("k1fw"),c=n("9og8"),i=n("tJVT"),s=n("WmNS"),u=n.n(s),o=n("q1tI"),l=n.n(o),p=n("dJx9"),d=n.n(p),m=n("sy1d");function f(e){return v.apply(this,arguments)}function v(){return v=Object(c["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(m["a"])("/api/read/article/"+t));case 1:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var b=n("YKg2"),g=n.n(b),h=n("DvM5"),O=n.n(h),j=n("N/z5"),x=n.n(j),_=n("Qyje"),E=n("EAz3"),y=function(e,t){var n=e.location.query,s=n.ids,p=void 0===s?"":s,m=n.index,v=void 0===m?0:m,b=p.split(","),h=b[v],j=Object(o["useRef"])(),y=Object(o["useRef"])(),w=Object(o["useState"])(),N=Object(i["a"])(w,2),k=(N[0],N[1]),I=Object(o["useState"])(),T=Object(i["a"])(I,2),W=T[0],S=T[1],z=Object(o["useState"])(),J=Object(i["a"])(z,2),C=J[0],D=J[1],F=Object(o["useState"])(!1),Y=Object(i["a"])(F,2),q=Y[0],R=Y[1],A=Object(o["useState"])(-1),K=Object(i["a"])(A,2),M=K[0],Z=K[1];Object(o["useEffect"])((function(){B()}),[h]);var B=function(){var e=Object(c["a"])(u.a.mark((function e(){var t,n,a,r,c,i,s;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return Z(-1),R(!0),e.next=4,f(h);case 4:t=e.sent,n=t.result,a=n.article,r=n.sentences,c=n.read,y.current.src=a.mp3,j.current.load(),k(a.picture),S((c.position||"").split("|")),i=[],s=r.records,s.map((function(e){return i.push(e.mp3Time)})),D(i),R(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),H=function(e){Z(e);var t=C[e].split(",");Object(E["b"])(j.current,t[0],t[1],.7)},L=function(){var t=e.location,n=t.pathname,a=t.query;e.history.push(n+"?"+Object(_["stringify"])(Object(r["a"])(Object(r["a"])({},a),{},{index:parseInt(v)+1})))},Q=function(){return l.a.createElement("div",{className:d.a.container},l.a.createElement("audio",{ref:j},l.a.createElement("source",{ref:y,type:"audio/mpeg"}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 audio \u5143\u7d20\u3002"),l.a.createElement(a["a"],{spinning:q},l.a.createElement("div",{className:d.a.tip},l.a.createElement("img",{src:x.a}),"\u8bf7\u70b9\u8bfb"),0!=v?l.a.createElement("div",{className:d.a.prev,onClick:function(){return e.history.go(-1)}},l.a.createElement("img",{src:g.a})):"",v<b.length-1?l.a.createElement("div",{className:d.a.next,onClick:L},l.a.createElement("img",{src:O.a})):"",(C||[]).map((function(e,t){var n=W[t].split(",");return l.a.createElement("div",{key:t},l.a.createElement("div",{onClick:function(){return H(t)},className:"".concat(d.a.mask," ").concat(t==M?d.a.active:""),style:{top:n[0],height:n[1]}}))})),l.a.createElement("img",{src:test,className:d.a.bgImg})))};return Q()};t["default"]=y},dJx9:function(e,t,n){e.exports={container:"container___NODTb",mask:"mask___nIglY",tip:"tip___1i-o2",next:"next___2ZL_O",prev:"prev___1COcE",bgImg:"bgImg___1DZaj",active:"active___1alFU"}}}]);