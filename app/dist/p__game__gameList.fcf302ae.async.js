(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[9],{"7hoE":function(e,t,a){e.exports={content:"content___L99Og",outside:"outside___1-IL2",listTitle:"listTitle___2ePCl",toolbar:"toolbar___3kdF_"}},hN9m:function(e,t,a){"use strict";a.r(t);a("Mwp2");var n=a("VXEj"),r=(a("P2fV"),a("NJEC")),c=(a("+L6B"),a("2/Rp")),u=a("9og8"),i=a("tJVT"),s=(a("5NDa"),a("5rEg")),o=a("WmNS"),l=a.n(o),p=a("xvlK"),f=a("/MfK"),m=a("q1tI"),d=a.n(m),b=a("7hoE"),h=a.n(b),O=a("vAYo"),j=(a("sRBo"),a("kaz8")),w=(a("2qtc"),a("kLXV")),y=(a("/zsF"),a("PArb")),v=a("0Owb"),g=(a("7Kak"),a("9yH6")),E=a("oBTY"),k=a("k1fw"),x=(a("miYZ"),a("tsqr")),S=(a("y8nQ"),a("Vl3Y")),C=a("w5pM"),I=a("27j4"),N=a.n(I),_=a("3nhN"),z={labelCol:{span:6},wrapperCol:{span:12}},V=d.a.forwardRef((function(e,t){var a=e.modalVisible,r=e.onCancel,o=Object(m["useState"])(!1),p=Object(i["a"])(o,2),f=p[0],b=p[1],I=Object(m["useState"])([]),V=Object(i["a"])(I,2),T=V[0],F=V[1],L=Object(m["useState"])(!1),P=Object(i["a"])(L,2),R=P[0],B=P[1],q=Object(m["useState"])({}),M=Object(i["a"])(q,2),Y=M[0],G=M[1],J=Object(m["useState"])(0),A=Object(i["a"])(J,2),K=A[0],W=A[1],H=Object(m["useState"])(5),Q=Object(i["a"])(H,2),X=Q[0],D=Q[1],U=Object(m["useState"])(1),Z=Object(i["a"])(U,2),$=Z[0],ee=Z[1],te=Object(m["useState"])([]),ae=Object(i["a"])(te,2),ne=ae[0],re=ae[1],ce=Object(m["useState"])([]),ue=Object(i["a"])(ce,2),ie=ue[0],se=ue[1],oe=S["a"].useForm(),le=Object(i["a"])(oe,1),pe=le[0];Object(m["useEffect"])((function(){fe(X,$),F([])}),[Y.id]),Object(m["useEffect"])((function(){me()}),[Y.type]);var fe=function(){var e=Object(u["a"])(l.a.mark((function e(t,a){var n,r;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Y.id){e.next=14;break}if(!Y.type){e.next=9;break}return e.next=4,Object(O["b"])({gameId:Y.id,pageSize:t,pageNo:a});case 4:n=e.sent,re(n.result.records),W(n.result.total),e.next=14;break;case 9:return e.next=11,Object(O["d"])({gameId:Y.id,pageSize:t,pageNo:a});case 11:r=e.sent,re(r.result.records),W(r.result.total);case 14:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),me=function(){var e=Object(u["a"])(l.a.mark((function e(){var t;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!Y.id){e.next=5;break}return e.next=3,Object(_["e"])({type:Y.type});case 3:t=e.sent,se(t.result.records);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),de=function(){var e=Object(u["a"])(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return B(!0),e.next=3,Object(O["h"])({id:Y.id,articleIds:T});case 3:t=e.sent,B(!1),t.success?(b(!1),F([]),a=t.result,a&&a.length>0?(x["default"].success("\u4fdd\u5b58\u6210\u529f,\u6210\u529f\u6dfb\u52a0 "+a),fe()):x["default"].info("\u6240\u9009\u7684\u6587\u7ae0\u5bf9\u5e94\u7684\u5355\u8bcd\u5747\u5df2\u7ecf\u6dfb\u52a0\u3002")):x["default"].error("\u4fdd\u5b58\u5931\u8d25");case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),be=function(){var e=Object(u["a"])(l.a.mark((function e(){var t,a;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return B(!0),e.next=3,pe.validateFields();case 3:if(t=e.sent,!Y.id){e.next=11;break}return t=Object(k["a"])(Object(k["a"])({},Y),t),e.next=8,Object(O["i"])(t);case 8:a=e.sent,e.next=14;break;case 11:return e.next=13,Object(O["a"])(t);case 13:a=e.sent;case 14:a&&(a.success?(x["default"].success("\u4fdd\u5b58\u6210\u529f!"),r(!0)):x["default"].error(a.message)),B(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),he=function(){b(!0)},Oe=function(e,t){var a,n=e.target.checked;a=n?[t].concat(Object(E["a"])(T)):T.filter((function(e){return e!=t})),F(a)};return Object(m["useImperativeHandle"])(t,(function(){return{setFormValue:function(e){var t=e.gameName,a=e.type,n=e.comment;G(e),pe.setFieldsValue({gameName:t,type:a,comment:n})}}}),[]),d.a.createElement(d.a.Fragment,null,d.a.createElement(w["a"],{title:"\u589e\u52a0\u6e38\u620f",visible:a,onCancel:function(){r(!1)},style:{top:20},onOk:be,confirmLoading:R},d.a.createElement(S["a"],Object(v["a"])({},z,{form:pe,name:"game"}),d.a.createElement(S["a"].Item,{label:"\u540d\u5b57",name:"gameName",rules:[{required:!0,message:"Please input your title!"}]},d.a.createElement(s["a"],null)),d.a.createElement(S["a"].Item,{label:"\u7c7b\u578b",name:"type",rules:[{required:!0}],initialValue:0},d.a.createElement(g["a"].Group,{disabled:!!Y.id},d.a.createElement(g["a"],{value:0},"\u82f1\u8bed"),d.a.createElement(g["a"],{value:1},"\u4e2d\u6587"))),d.a.createElement(S["a"].Item,{label:"\u5907\u6ce8",name:"comment"},d.a.createElement(N.a,{rows:4}))),Y.id?d.a.createElement("div",null,d.a.createElement("div",{className:h.a.listTitle},d.a.createElement(y["a"],{orientation:"left"},"\u751f\u5b57\u5217\u8868"),d.a.createElement("div",{className:h.a.toolbar},d.a.createElement(c["a"],{type:"link",onClick:he},d.a.createElement(C["a"],null)))),d.a.createElement(n["b"],{itemLayout:"horizontal",pagination:{onChange:function(e){ee(e),fe(X,e)},pageSize:X,current:$,total:K,size:"small",showTotal:function(e){return"\u5171".concat(e,"\u6761")},showSizeChanger:!0,onShowSizeChange:function(e,t){D(t),fe(t,$)}},dataSource:ne,renderItem:function(e){return d.a.createElement(n["b"].Item,{key:e.id},d.a.createElement(n["b"].Item.Meta,{title:e.wordName}))}})):""),d.a.createElement(w["a"],{title:"\u9009\u62e9\u6587\u7ae0",visible:f,onCancel:function(){b(!1)},style:{top:20},onOk:de,confirmLoading:R},d.a.createElement(n["b"],{size:"small",bordered:!0,dataSource:ie,renderItem:function(e){return d.a.createElement(n["b"].Item,null,d.a.createElement(j["a"],{checked:!!T.find((function(t){return t==e.id})),onChange:function(t){return Oe(t,e.id)}},e.title))}})))})),T=V,F=s["a"].Search,L=function(){var e=Object(m["useState"])([]),t=Object(i["a"])(e,2),a=t[0],s=t[1],o=Object(m["useState"])(0),b=Object(i["a"])(o,2),j=b[0],w=b[1],y=Object(m["useState"])(!1),v=Object(i["a"])(y,2),g=v[0],E=v[1],k=Object(m["useRef"])();Object(m["useEffect"])((function(){x()}),[]);var x=function(){var e=Object(u["a"])(l.a.mark((function e(){var t;return l.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["f"])();case 2:t=e.sent,s(t.result.records),w(t.result.total);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){},C=function(e){k.current.setFormValue(e),E(!0)},I=function(){k.current.setFormValue({}),E(!0)};return d.a.createElement("div",{className:h.a.outside},d.a.createElement("div",{className:h.a.content},d.a.createElement(F,{placeholder:"input search text",style:{width:200,marginRight:"20px"}}),d.a.createElement(c["a"],{shape:"circle",type:"primary",onClick:I},d.a.createElement(p["a"],null)),d.a.createElement(n["b"],{itemLayout:"horizontal",pagination:{onChange:function(e){},pageSize:5,total:j},dataSource:a,renderItem:function(e){return d.a.createElement(n["b"].Item,{key:e.id,actions:[d.a.createElement(r["a"],{title:"\u786e\u8ba4\u8981\u5220\u9664\u8fd9\u7bc7\u6587\u7ae0?",onConfirm:function(){S(e.id)},okText:"\u662f",cancelText:"\u5426"},d.a.createElement(f["a"],null))]},d.a.createElement(n["b"].Item.Meta,{title:d.a.createElement("a",{onClick:function(){return C(e)}},e.gameName)}))}}),d.a.createElement(T,{ref:k,onCancel:function(e){e&&x(),E(!1)},modalVisible:g})))};t["default"]=L},vAYo:function(e,t,a){"use strict";a.d(t,"f",(function(){return o})),a.d(t,"a",(function(){return p})),a.d(t,"i",(function(){return m})),a.d(t,"d",(function(){return b})),a.d(t,"b",(function(){return O})),a.d(t,"h",(function(){return w})),a.d(t,"e",(function(){return v})),a.d(t,"c",(function(){return E})),a.d(t,"g",(function(){return x}));var n=a("k1fw"),r=a("9og8"),c=a("WmNS"),u=a.n(c),i=a("sy1d"),s=a("Qyje");function o(){return l.apply(this,arguments)}function l(){return l=Object(r["a"])(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/game/game/list"));case 1:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/game/game/add",{method:"POST",data:Object(n["a"])(Object(n["a"])({},t),{},{method:"post"})}));case 1:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(e){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/game/game/edit",{method:"PUT",data:Object(n["a"])(Object(n["a"])({},t),{},{method:"put"})}));case 1:case"end":return e.stop()}}),e)}))),d.apply(this,arguments)}function b(e){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/word/word/listByGame?"+Object(s["stringify"])(t)));case 1:case"end":return e.stop()}}),e)}))),h.apply(this,arguments)}function O(e){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/wordChinese/listByGame?"+Object(s["stringify"])(t)));case 1:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}function w(e){return y.apply(this,arguments)}function y(){return y=Object(r["a"])(u.a.mark((function e(t){var a,n;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=t.id,n=t.articleIds,e.abrupt("return",Object(i["a"])("/api/game/gameWordRel/add/"+a+"?articleIds="+n.join(","),{method:"POST",data:{method:"post"}}));case 2:case"end":return e.stop()}}),e)}))),y.apply(this,arguments)}function v(e){return g.apply(this,arguments)}function g(){return g=Object(r["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/game/game/level?gameId="+t));case 1:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}function E(e){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/wordChinese/listByGameLevel/"+t));case 1:case"end":return e.stop()}}),e)}))),k.apply(this,arguments)}function x(){return S.apply(this,arguments)}function S(){return S=Object(r["a"])(u.a.mark((function e(){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(i["a"])("/api/wordChinese/listRand/"));case 1:case"end":return e.stop()}}),e)}))),S.apply(this,arguments)}}}]);