(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[17],{"8Skl":function(e,t,n){"use strict";var a=n("q1tI"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},r=c,l=n("6VBw"),o=function(e,t){return a["createElement"](l["a"],Object.assign({},e,{ref:t,icon:r}))};o.displayName="DownOutlined";t["a"]=a["forwardRef"](o)},Gztv:function(e,t,n){e.exports={toolbar:"toolbar___3M9Xg",buttons:"buttons___1MeMU",status:"status___HHsQA",yellow:"yellow___1X8oL",warning:"warning___36A0x",green:"green___vRCy7",main:"main___3vV_G",content:"content___vaGnd",title:"title___2ugCE",text:"text___11eiN"}},TcXl:function(e,t,n){e.exports={color0:"color0___yRifW",color1:"color1___5opj9",color2:"color2___3_IIO",color3:"color3___DwDA2",color4:"color4___3vbyK",color5:"color5___KruFH",color6:"color6___FqTTS",main:"main___2Q90t",icon:"icon___27iSw",label:"label___Zo2PJ",item:"item___2lvkE",shortLogo:"shortLogo___3YGJ7",active:"active___1FXFo",modal:"modal___3Kerv",title:"title___2dRPT",buttons:"buttons___2vAD4"}},djQt:function(e,t,n){"use strict";var a=n("q1tI"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},r=c,l=n("6VBw"),o=function(e,t){return a["createElement"](l["a"],Object.assign({},e,{ref:t,icon:r}))};o.displayName="StarFilled";t["a"]=a["forwardRef"](o)},uMRc:function(e,t,n){"use strict";var a=n("q1tI"),c={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm193.4 225.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.3 0 19.9 5 25.9 13.3l71.2 98.8 157.2-218c6-8.4 15.7-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.4 12.7z",fill:t}},{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z",fill:e}}]}},name:"check-circle",theme:"twotone"},r=c,l=n("6VBw"),o=function(e,t){return a["createElement"](l["a"],Object.assign({},e,{ref:t,icon:r}))};o.displayName="CheckCircleTwoTone";t["a"]=a["forwardRef"](o)},w5pM:function(e,t,n){"use strict";var a=n("q1tI"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M696 480H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"plus-circle",theme:"outlined"},r=c,l=n("6VBw"),o=function(e,t){return a["createElement"](l["a"],Object.assign({},e,{ref:t,icon:r}))};o.displayName="PlusCircleOutlined";t["a"]=a["forwardRef"](o)},xDFs:function(e,t,n){e.exports={content:"content___5m2gZ",menu:"menu___3fSYr",menuContent:"menuContent___2SP-5",title:"title___1hXQc",button:"button___osRoe",fold:"fold___3F1HC",item:"item___1DisU",hidden:"hidden___lBY_E",show:"show___1eHZk",menuItem:"menuItem___3hdZz",label:"label___1F3IV",noteTitle:"noteTitle___1d8d-",addChild:"addChild___xeA-e",active:"active___nd--y",parents:"parents___3d1eC",addBtn:"addBtn___yt2Pd",favorate:"favorate___3D19U"}},xvlK:function(e,t,n){"use strict";var a=n("q1tI"),c={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M482 152h60q8 0 8 8v704q0 8-8 8h-60q-8 0-8-8V160q0-8 8-8z"}},{tag:"path",attrs:{d:"M176 474h672q8 0 8 8v60q0 8-8 8H176q-8 0-8-8v-60q0-8 8-8z"}}]},name:"plus",theme:"outlined"},r=c,l=n("6VBw"),o=function(e,t){return a["createElement"](l["a"],Object.assign({},e,{ref:t,icon:r}))};o.displayName="PlusOutlined";t["a"]=a["forwardRef"](o)},xw1K:function(e,t,n){"use strict";n.r(t);n("T2oS");var a=n("W9HT"),c=n("q1tI"),r=n.n(c),l=n("9kvl"),o=(n("/zsF"),n("PArb")),i=(n("+L6B"),n("2/Rp")),u=(n("qVdP"),n("jsC+")),s=(n("/xke"),n("TeRw")),m=n("k1fw"),d=n("oBTY"),f=(n("lUTK"),n("BvKs")),v=n("tJVT"),p=(n("2qtc"),n("kLXV")),h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"},b=h,E=n("6VBw"),_=function(e,t){return c["createElement"](E["a"],Object.assign({},e,{ref:t,icon:b}))};_.displayName="HistoryOutlined";var g=c["forwardRef"](_),M=n("djQt"),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},C=y,O=function(e,t){return c["createElement"](E["a"],Object.assign({},e,{ref:t,icon:C}))};O.displayName="ExclamationCircleOutlined";var w=c["forwardRef"](O),N={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M765.7 486.8L314.9 134.7A7.97 7.97 0 00302 141v77.3c0 4.9 2.3 9.6 6.1 12.6l360 281.1-360 281.1c-3.9 3-6.1 7.7-6.1 12.6V883c0 6.7 7.7 10.4 12.9 6.3l450.8-352.1a31.96 31.96 0 000-50.4z"}}]},name:"right",theme:"outlined"},j=N,k=function(e,t){return c["createElement"](E["a"],Object.assign({},e,{ref:t,icon:j}))};k.displayName="RightOutlined";var I=c["forwardRef"](k),x=n("8Skl"),T=n("xvlK"),S={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 000 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z"}}]},name:"left",theme:"outlined"},z=S,B=function(e,t){return c["createElement"](E["a"],Object.assign({},e,{ref:t,icon:z}))};B.displayName="LeftOutlined";var F=c["forwardRef"](B),q=n("xDFs"),L=n.n(q),R=(n("Mwp2"),n("VXEj")),V=(n("miYZ"),n("tsqr")),H=n("eFNv"),A=n("w5pM"),P=n("4i/N"),D=n("TcXl"),K=n.n(D),Q=n("0Owb"),X=(n("5NDa"),n("5rEg")),Y=n("WmNS"),G=n.n(Y),J=n("9og8"),U=(n("y8nQ"),n("Vl3Y")),Z=n("bPPy"),W={labelCol:{span:6},wrapperCol:{span:12}},$=function(e){var t=e.modalVisible,n=e.onCancel,a=e.note,l=U["a"].useForm(),o=Object(v["a"])(l,1),i=o[0];return Object(c["useEffect"])((function(){i.setFieldsValue(a)}),[a]),r.a.createElement(p["a"],{title:"\u8be6\u7ec6\u4fe1\u606f",visible:t,onCancel:function(){return n(!1)},style:{top:20},onOk:Object(J["a"])(G.a.mark((function e(){var t,c,r,l,o;return G.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.validateFields();case 2:return t=e.sent,c=Object(m["a"])(Object(m["a"])({},a),t),e.next=6,Object(Z["j"])(c);case 6:r=e.sent,l=r.success,o=r.message,l?(V["b"].success("\u64cd\u4f5c\u6210\u529f!"),n(!0)):V["b"].error(o);case 10:case"end":return e.stop()}}),e)})))},r.a.createElement(U["a"],Object(Q["a"])({},W,{form:i}),r.a.createElement(U["a"].Item,{label:"\u6807\u9898",name:"name",rules:[{required:!0,message:"Please input your title!"}]},r.a.createElement(X["a"],null))))},ee=$,te=n("c+yx"),ne=function(e){var t=Object(c["useState"])([]),n=Object(v["a"])(t,2),a=n[0],l=n[1],o=Object(c["useState"])(!1),u=Object(v["a"])(o,2),s=u[0],m=u[1],f=Object(c["useState"])(!1),h=Object(v["a"])(f,2),b=h[0],E=h[1],_=Object(c["useState"])({}),g=Object(v["a"])(_,2),M=g[0],y=g[1];Object(c["useEffect"])((function(){C()}),[]);var C=function(){e.dispatch({type:"note/queryChildren",payload:"0"}).then((function(e){if(e){var t=e.result;t.length>0&&w(t[0].id,t[0].name),l(Object(d["a"])(t))}}))},O=function(){a.length>=10?V["b"].error("\u6700\u591a\u53ea\u80fd\u670910\u4e2a\u7b14\u8bb0\u672c"):(E(!0),y({name:"",id:Object(te["c"])()}))},w=function(t,n){e.dispatch({type:"noteMenu/updateActiveTop",payload:{id:t,name:n}})},N=function(){m(!1)},j=function(){m(!0)},k=function(e){E(!0),y(e)},I=function(e){},x=function(e){e&&C(),E(!1)},T=function(){return r.a.createElement("div",{className:K.a.main},r.a.createElement("ul",null,a.map((function(t){var n=t.id===e.noteMenu.activeTopId;return r.a.createElement("li",{key:t.id,onClick:function(){return w(t.id,t.name)},className:"".concat(K.a.item," ").concat(n?K.a.active:"")},r.a.createElement("div",{className:K.a.shortLogo},t.name.substr(0,1)),r.a.createElement("div",{className:K.a.label},t.name))}))),r.a.createElement("div",{className:K.a.icon},r.a.createElement(H["a"],{onClick:j})),r.a.createElement(p["a"],{visible:s,closable:!1,footer:null,style:{top:20}},r.a.createElement("div",{className:K.a.modal},r.a.createElement("div",{className:K.a.title},r.a.createElement("span",null,"\u7ba1\u7406\u7b14\u8bb0\u672c"),r.a.createElement("div",{className:K.a.buttons},r.a.createElement(i["a"],{type:"text",onClick:O},r.a.createElement(A["a"],null)),r.a.createElement(i["a"],{type:"text",onClick:N},r.a.createElement(P["a"],null)))),r.a.createElement(R["b"],{dataSource:a,renderItem:function(e){return r.a.createElement(R["b"].Item,{actions:[r.a.createElement("a",{onClick:function(){k(e)}},"edit"),r.a.createElement("a",{onClick:function(){I(e.id)}},"delete")]},e.name)}}))),r.a.createElement(ee,{onCancel:x,note:M,modalVisible:b}))};return T()},ae=Object(l["b"])((function(e){var t=e.note,n=e.noteMenu,a=e.loading;return{note:t,noteMenu:n,loading:a}}))(ne),ce=p["a"].confirm,re=[{id:"open",name:"\u6700\u8fd1\u6253\u5f00",icon:r.a.createElement(g,null)},{id:"favorate",name:"\u6536\u85cf\u5939",icon:r.a.createElement(M["a"],{className:L.a.favorate})}],le={fontSize:"10px"},oe=function(e,t){var n=Object(c["useState"])(!1),a=Object(v["a"])(n,2),l=a[0],p=a[1],h=Object(c["useState"])(""),b=Object(v["a"])(h,2),E=b[0],_=b[1],g=Object(c["useState"])([]),M=Object(v["a"])(g,2),y=M[0],C=M[1];Object(c["useEffect"])((function(){e.refreshMenu(2)}),[e.noteMenu.activeMenu1Id]),Object(c["useEffect"])((function(){e.refreshMenu(3)}),[e.noteMenu.activeMenu2Id]);var O=function(e){return"favorate"==e.id||"open"==e.id?r.a.createElement(r.a.Fragment,null):r.a.createElement(f["a"],{onClick:function(t){return z(t,e)}},r.a.createElement(f["a"].Item,{key:"add"},"\u589e\u52a0\u5b50\u7b14\u8bb0"),r.a.createElement(f["a"].Item,{key:"del"},"\u5220\u9664"))},N=function(e,t){C(e?y.filter((function(e){return e!=t})):[t].concat(Object(d["a"])(y)))},j=function(t){var n=S(t),a=n.id,c=n.title,r=n.level;"open"!=a&&"favorate"!=a&&e.dispatch({type:"note/queryNote",payload:a}),1==r?(e.dispatch({type:"noteMenu/refreshActiveMenu1Id",payload:{id:a,title:c}}),_("")):2==r?(e.dispatch({type:"noteMenu/refreshActiveMenu2Id",payload:{id:a,title:c}}),_("")):_(a)},k=function(t){t==e.noteMenu.activeMenu1Id?e.dispatch({type:"noteMenu/refreshMenu3",payload:[]}):t==e.noteMenu.activeTopId&&(e.dispatch({type:"noteMenu/refreshMenu2",payload:[]}),e.dispatch({type:"noteMenu/refreshMenu3",payload:[]})),e.onAddNote(t)},S=function(e){var t,n=e.key||e.id,a=e.title||e.name;return t="favorate"==n||"open"==n?1:Object(te["a"])(e.parentIds),Object(m["a"])(Object(m["a"])({},e),{},{id:n,title:a,level:t})},z=function(t,n){var a=t.key,c=S(n),l=c.id,o=c.title,i=c.level;"add"==a||"del"==a&&ce({title:"\u786e\u5b9a\u8981\u5220\u9664 ".concat(o,"?"),icon:r.a.createElement(w,null),onOk:function(){e.dispatch({type:"note/deleteNote",payload:l}).then((function(){s["a"]["info"]({message:"\u5220\u9664\u6210\u529f"}),e.refreshMenu(i)}))}})},B=function(e){var t=e.level,n=e.id;if(t>=3){if(!e.leaf)return y.includes(n)?r.a.createElement(I,{style:le,onClick:function(){return N(!0,n)}}):r.a.createElement(x["a"],{style:le,onClick:function(){return N(!1,n)}})}else if(e.icon)return e.icon},q=function e(t,n){if(t)return r.a.createElement("ul",null,t.map((function(t){var a=S(t),c=a.id,l=a.title,o=a.level,i=void 0===o?0:o,s=(i||0)>=3;return r.a.createElement("li",{key:c},r.a.createElement(u["a"],{overlay:O(t),trigger:["contextMenu"]},r.a.createElement("div",{className:"".concat(L.a.menu1Item," ").concat(n==c?L.a.active:"")},r.a.createElement("div",{className:L.a.label,onClick:function(){return j(t)},style:{paddingLeft:"".concat(s?8*(i-3)+12:12,"px")}},B(a),r.a.createElement("div",{className:L.a.noteTitle},"\xa0\xa0",l),i<=3&&"open"!=c&&"favorate"!=c?r.a.createElement("span",{className:L.a.addChild,onClick:function(e){e.stopPropagation(),e.preventDefault(),k(c)}},r.a.createElement(T["a"],{title:"\u589e\u52a0\u5b50\u7b14\u8bb0"})):""))),!t.children||y.includes(c)?"":e(t.children,n))})))},R=function(){var t=e.noteMenu,n=t.menu1Item,a=t.menu2Item,c=t.menu3Item;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"".concat(L.a.content," ").concat(l?L.a.hidden:L.a.show)},r.a.createElement("div",{className:L.a.fold},r.a.createElement(i["a"],{type:"primary",size:"small",onClick:function(){return p(!l)},shape:"circle",icon:l?r.a.createElement(I,null):r.a.createElement(F,null)})),r.a.createElement("div",{className:L.a.menu},r.a.createElement(ae,null),r.a.createElement("div",{className:L.a.menuContent},r.a.createElement("div",{className:L.a.title},e.noteMenu.title1),r.a.createElement("ul",null,q(re,e.noteMenu.activeMenu1Id),r.a.createElement(o["a"],null),q(n,e.noteMenu.activeMenu1Id)),r.a.createElement("div",{className:L.a.button},r.a.createElement(i["a"],{block:!0,onClick:function(){return k(e.noteMenu.activeTopId)}},"\u589e\u52a0"))),a.length>0?r.a.createElement("div",{className:L.a.menuContent},r.a.createElement("div",{className:L.a.title},e.noteMenu.title2),q(a,e.noteMenu.activeMenu2Id),r.a.createElement("div",{className:L.a.button},r.a.createElement(i["a"],{block:!0,onClick:function(){return k(e.noteMenu.activeMenu1Id)}},"\u589e\u52a0"))):"",c.length>0?r.a.createElement("div",{className:L.a.menuContent},r.a.createElement("div",{className:L.a.title},e.noteMenu.title3),q(c,E),r.a.createElement("div",{className:L.a.button},r.a.createElement(i["a"],{block:!0,onClick:function(){return k(e.noteMenu.activeMenu2Id)}},"\u589e\u52a0"))):"")))};return R()},ie=Object(l["b"])((function(e){var t=e.note,n=e.noteMenu,a=e.loading;return{note:t,noteMenu:n,loading:a}}))(oe),ue=n("uMRc"),se={icon:function(e,t){return{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z",fill:e}},{tag:"path",attrs:{d:"M512 140c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm-32 156c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z",fill:t}},{tag:"path",attrs:{d:"M488 576h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8zm-24 112a48 48 0 1096 0 48 48 0 10-96 0z",fill:e}}]}},name:"exclamation-circle",theme:"twotone"},me=se,de=function(e,t){return c["createElement"](E["a"],Object.assign({},e,{ref:t,icon:me}))};de.displayName="ExclamationCircleTwoTone";var fe=c["forwardRef"](de),ve=n("ye1Q"),pe=n("Gztv"),he=n.n(pe),be=X["a"].TextArea,Ee={0:r.a.createElement(ue["a"],{twoToneColor:"#52c41a"}),1:r.a.createElement(fe,{twoToneColor:"#f1c40f"}),2:r.a.createElement(ve["a"],null)},_e="group",ge=r.a.forwardRef((function(e,t){var n=Object(c["useRef"])(),a=Object(c["useRef"])(),l=Object(c["useState"])(""),o=Object(v["a"])(l,2),i=o[0],u=o[1],s=Object(c["useState"])(null),d=Object(v["a"])(s,2),f=d[0],h=d[1],b=Object(c["useState"])(""),E=Object(v["a"])(b,2),_=E[0],g=E[1],M=Object(c["useState"])(!1),y=Object(v["a"])(M,2),C=y[0],O=y[1],w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";document.execCommand(e,!1,t)},N=function(){u(n.current.innerHTML),O(!0)};Object(c["useImperativeHandle"])(t,(function(){return{handleAddNote:function(t){console.log("handleAddNote");var a=Object(te["c"])();h(1);var c={name:"\u65b0\u6587\u6863",parentId:t,id:a};g("\u65b0\u6587\u6863"),n.current.innerHTML="",e.dispatch({type:"note/refreshShowNote",payload:c})}}}));var j=function(){n.current.innerHTML=i,O(!1)},k=function(e){var t=e.target.value;u(t)},I=function(e){h(1)},x=function(e){g(e.target.value),h(1)};Object(c["useEffect"])((function(){T(e.note.showNote)}),[e.note.showNote]);var T=function(e){console.log("handleShowNote"),g(e.name),n.current.innerHTML=e.text||"",h(0)},S=function(t){if(0!=f){var a,c=Object(m["a"])({},e.note.showNote);if(c.id)h(2),c.name=_,c.text=n.current.innerHTML,a="title"==t?"note/updateNoteTitle":"note/updateNoteText",e.dispatch({type:a,payload:c}).then((function(n){if(n){if(c.createTime)"title"==t&&e.refreshMenu(Object(te["a"])(c.parentIds));else{var a=n.result;c=a,e.refreshMenu(Object(te["a"])(a.parentIds))}e.dispatch({type:"openNotes/updateOpenNote",payload:c}),e.note.activeNoteId==c.id&&h(0)}}))}},z=function(e,t){"title"==t?S(t):e.relatedTarget&&e.relatedTarget.getAttribute("group")==_e||S(t)},B=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:he.a.toolbar,onBlur:function(e){return z(e,"content")}},r.a.createElement("div",{className:he.a.buttons},r.a.createElement("a",{group:_e,onClick:N,href:"#"},"code"),r.a.createElement("a",{group:_e,onClick:function(){return w("bold")},href:"#"},r.a.createElement("b",null,"Bold")),r.a.createElement("a",{group:_e,onClick:function(){return w("italic")},href:"#"},r.a.createElement("em",null,"Italic")),r.a.createElement("a",{group:_e,onClick:function(){return w("underline")},href:"#"},r.a.createElement("u",null,r.a.createElement("b",null,"U"))),r.a.createElement("a",{group:_e,className:he.a.yellow,onClick:function(){w("backColor","#FFEB9C"),w("foreColor","#9C6500")},href:"#"},"\u7a81\u51fa"),r.a.createElement("a",{group:_e,className:he.a.green,onClick:function(){w("backColor","#C6EFCE"),w("foreColor","#006100")},href:"#"},"\u4f18\u79c0"),r.a.createElement("a",{group:_e,className:he.a.warning,onClick:function(){w("backColor","#FFC7CE"),w("foreColor","#9C0006")},href:"#"},"\u8b66\u544a"),r.a.createElement("a",{group:_e,onClick:function(){return w("removeFormat")},href:"#"},r.a.createElement("b",null,"\u53bb\u9664\u683c\u5f0f")),r.a.createElement("a",{group:_e,onClick:function(){return w("insertHorizontalRule")},href:"#"},r.a.createElement("b",null,"\u6c34\u5e73\u7ebf")),r.a.createElement("a",{group:_e,onClick:function(){return w("insertHTML","&nbsp;&nbsp;&nbsp;-&nbsp;")},href:"#"},r.a.createElement("b",null,"*")),r.a.createElement("a",{group:_e,onClick:function(){return w("indent")},href:"#"},r.a.createElement("b",null,"Tab")),r.a.createElement("a",{group:_e,onClick:function(){return w("fontname","Microsoft YaHei")},href:"#"},r.a.createElement("span",{style:{fontFamily:"Microsoft YaHei"}},"\u96c5\u9ed1")),r.a.createElement("a",{group:_e,onClick:function(){return w("fontname","SimHei")},href:"#"},r.a.createElement("span",{style:{fontFamily:"SimHei"}},"\u9ed1\u4f53")),r.a.createElement("a",{group:_e,onClick:function(){return w("fontname","SimSun")},href:"#"},r.a.createElement("span",{style:{fontFamily:"SimSun"}},"\u5b8b\u4f53")),r.a.createElement("a",{group:_e,onClick:function(){return w("fontname","Courier New")},href:"#"},r.a.createElement("div",{style:{display:"inline-block",fontFamily:"Courier New"}},"Font")),r.a.createElement("a",{group:_e,onClick:function(){return w("fontname","Comic Sans MS")},href:"#"},r.a.createElement("div",{style:{display:"inline-block",fontFamily:"Comic Sans MS"}},"Font"))),r.a.createElement("div",{className:he.a.status},Ee[f])),r.a.createElement("div",{className:he.a.main},e.children,r.a.createElement("div",{className:he.a.content},r.a.createElement("div",{className:he.a.title},r.a.createElement(X["a"],{maxLength:100,ref:a,value:_,onBlur:function(e){return z(e,"title")},onInput:x})),r.a.createElement("div",{group:_e,className:he.a.text,ref:n,onInput:I,onBlur:function(e){return z(e,"content")},suppressContentEditableWarning:"true",contentEditable:!0}))),r.a.createElement(p["a"],{visible:C,onOk:j,onCancel:function(){return O(!1)}},r.a.createElement("div",{style:{marginBottom:"10px"}},"Source code"),r.a.createElement(be,{value:i,rows:10,onChange:k})))};return B()})),Me=Object(l["b"])((function(e){var t=e.note,n=e.noteMenu,a=e.loading;return{note:t,noteMenu:n,loading:a}}),null,null,{forwardRef:!0})(ge),ye=function(e){var t=Object(c["useRef"])(),n=function(t){var n,a="note/queryChildren";1==t?n=e.noteMenu.activeTopId:2==t?n=e.noteMenu.activeMenu1Id:(t=3,a="note/queryTabTree",n=e.noteMenu.activeMenu2Id),n?e.dispatch({type:a,payload:n}).then((function(n){if(n){var a=n.result;e.dispatch({type:"noteMenu/refreshMenu".concat(t),payload:a})}})):e.dispatch({type:"noteMenu/refreshMenu".concat(t),payload:[]})},l=function(e){t.current.handleAddNote(e)},o=function(){var c=e.loading.effects["note/queryNote"]||e.loading.effects["note/deleteNote"]||e.loading.effects["note/queryTabTree"]||e.loading.effects["note/queryChildren"]||!1;return r.a.createElement(a["a"],{spinning:c},r.a.createElement(Me,{ref:t,refreshMenu:n},r.a.createElement(ie,{refreshMenu:n,onAddNote:l})))};return o()};t["default"]=Object(l["b"])((function(e){var t=e.note,n=e.noteMenu,a=e.loading;return{note:t,noteMenu:n,loading:a}}))(ye)},ye1Q:function(e,t,n){"use strict";var a=n("q1tI"),c={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M988 548c-19.9 0-36-16.1-36-36 0-59.4-11.6-117-34.6-171.3a440.45 440.45 0 00-94.3-139.9 437.71 437.71 0 00-139.9-94.3C629 83.6 571.4 72 512 72c-19.9 0-36-16.1-36-36s16.1-36 36-36c69.1 0 136.2 13.5 199.3 40.3C772.3 66 827 103 874 150c47 47 83.9 101.8 109.7 162.7 26.7 63.1 40.2 130.2 40.2 199.3.1 19.9-16 36-35.9 36z"}}]},name:"loading",theme:"outlined"},r=c,l=n("6VBw"),o=function(e,t){return a["createElement"](l["a"],Object.assign({},e,{ref:t,icon:r}))};o.displayName="LoadingOutlined";t["a"]=a["forwardRef"](o)}}]);