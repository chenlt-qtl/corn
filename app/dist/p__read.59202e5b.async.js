(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[16],{DvM5:function(e,t,n){e.exports=n.p+"static/xiayibu.1833c47b.svg"},"N/z5":function(e,t,n){e.exports=n.p+"static/pointdown.2fc6b61e.svg"},YKg2:function(e,t,n){e.exports=n.p+"static/fanhui.41e61a14.svg"},c71E:function(e,t,n){"use strict";n.r(t);n("T2oS");var a=n("W9HT"),c=n("k1fw"),r=n("9og8"),i=n("tJVT"),s=n("WmNS"),u=n.n(s),o=n("q1tI"),p=n.n(o),l=n("dJx9"),m=n.n(l),f=n("sy1d");function b(e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(u.a.mark((function e(t){return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",Object(f["a"])("/api/read/article/"+t));case 1:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}var d=n("YKg2"),g=n.n(d),_=n("DvM5"),O=n.n(_),j=n("N/z5"),x=n.n(j),h=n("xkni"),y=n.n(h),E=n("Qyje"),k=0,w=function(e,t){var n=e.location.query,s=n.ids,l=void 0===s?"":s,f=n.index,v=void 0===f?0:f,d=l.split(","),_=d[v],j=Object(o["useRef"])(),h=Object(o["useRef"])(),w=Object(o["useState"])(),N=Object(i["a"])(w,2),I=(N[0],N[1]),T=Object(o["useState"])(),S=Object(i["a"])(T,2),J=S[0],C=S[1],D=Object(o["useState"])(),q=Object(i["a"])(D,2),R=q[0],Y=q[1],z=Object(o["useState"])(!1),K=Object(i["a"])(z,2),M=K[0],W=K[1],Z=Object(o["useState"])(-1),F=Object(i["a"])(Z,2),H=F[0],L=F[1];Object(o["useEffect"])((function(){Q()}),[_]);var Q=function(){var e=Object(r["a"])(u.a.mark((function e(){var t,n,a,c,r,i,s;return u.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return L(-1),W(!0),e.next=4,b(_);case 4:t=e.sent,n=t.result,a=n.article,c=n.sentences,r=n.read,h.current.src=a.mp3,j.current.load(),I(a.picture),C((r.position||"").split("|")),i=[],s=c.records,s.map((function(e){return i.push(e.mp3Time)})),Y(i),W(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),U=function(e){console.log("timeoutIndex",k),clearTimeout(k),L(e),j.current.pause();var t=R[e].split(","),n=.7;j.current.currentTime=t[0],j.current.play(),j.current.playbackRate=n,k=setTimeout((function(){j.current.pause(),console.log("pause")}),parseInt(t[1])/n*1e3),console.log(111,k)},V=function(){var t=e.location,n=t.pathname,a=t.query;e.history.push(n+"?"+Object(E["stringify"])(Object(c["a"])(Object(c["a"])({},a),{},{index:parseInt(v)+1})))},A=function(){return p.a.createElement("div",{className:m.a.container},p.a.createElement("audio",{ref:j},p.a.createElement("source",{ref:h,type:"audio/mpeg"}),"\u60a8\u7684\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 audio \u5143\u7d20\u3002"),p.a.createElement(a["a"],{spinning:M},p.a.createElement("div",{className:m.a.tip},p.a.createElement("img",{src:x.a}),"\u8bf7\u70b9\u8bfb"),0!=v?p.a.createElement("div",{className:m.a.prev,onClick:function(){return e.history.go(-1)}},p.a.createElement("img",{src:g.a})):"",v<d.length-1?p.a.createElement("div",{className:m.a.next,onClick:V},p.a.createElement("img",{src:O.a})):"",(R||[]).map((function(e,t){var n=J[t].split(",");return p.a.createElement("div",{key:t},p.a.createElement("div",{onClick:function(){return U(t)},className:"".concat(m.a.mask," ").concat(t==H?m.a.active:""),style:{top:n[0],height:n[1]}}))})),p.a.createElement("img",{src:y.a,className:m.a.bgImg})))};return A()};t["default"]=w},dJx9:function(e,t,n){e.exports={container:"container___NODTb",mask:"mask___nIglY",tip:"tip___1i-o2",next:"next___2ZL_O",prev:"prev___1COcE",bgImg:"bgImg___1DZaj",active:"active___1alFU"}},xkni:function(e,t,n){e.exports=n.p+"static/\u5fae\u4fe1\u622a\u56fe_20230731150835.1816c04b.png"}}]);